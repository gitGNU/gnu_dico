/* A sample configuration for GNU dicod */

capability (mime,xversion);
timing yes;
access-log-file "<BUILDDIR>/tests/access_log";
access-log-format "%h %l %u %t \"%r\" %>s %b \"\" \"%C\"";

prepend-load-path ("<BUILDDIR>/modules/outline",
                   "<BUILDDIR>/modules/guile",
		   "<BUILDDIR>/modules/python");

load-module outline {
	command "outline";
}

load-module guile {
	command "guile debug";
}

load-module python {
	command "python";
}

database {
	name "devdict";
	handler "outline <SRCDIR>/tests/devils.out";
}

database {
	name "plnum";
	handler "guile"
	        " init-script=<SRCDIR>/tests/example.scm "
		" init-fun=example-init"
		" example.db";
}

database {
	name "cznum";
	handler "python "
	        "load-path=<SRCDIR>/tests "
	        "init-script=example "
		"<SRCDIR>/tests/example.text";
}

alias d DEFINE;
alias da d "*";
alias df d "!";
alias m MATCH;
alias mas m "*";
alias mfs m "!";
alias ma mas ".";
alias mf mfs ".";
alias s STATUS;
alias h HELP;
alias q QUIT;

help-text <<- EOT
	+
  The following commands are abbreviations that Gray likes to use when
  debugging the daemon.  You may or may not find them useful.  However
  it is, do not write your client software to relay on them.  They may
  disappear or change any time Gray pleases, without notice.

  d database word                 -- DEFINE database word
  da word                         -- DEFINE * word
  df word                         -- DEFINE ! word
  ma word                         -- MATCH * . word
  mf word                         -- MATCH ! . word
  mas strategy word               -- MATCH * strategy word
  mfs strategy word               -- MATCH ! strategy word
  m database strategy word        -- MATCH database strategy word
  s                               -- STATUS
  h                               -- HELP
  q                               -- QUIT
EOT;

user nobody;
listen (localhost:dict, "/tmp/dict.sock");
max-children 18;
#inactivity-timeout 5;

log-tag "Dico dictd";
pidfile <BUILDDIR>/tests/dictd.pid;

server-info <<EOT
This is a test Dico server.
EOT;




